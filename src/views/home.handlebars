<div class="welcome-container">
    {{#if isLogIn}}
    <h1>Bienvenido {{userName}}!</h1>
    <div class="logout-container">
        <a href="/logout"><button>Cerrar sesión<img src={{userPhoto}} alt="User profile photo"></button></a>

    </div>
    {{#if isAdminButton}}
    <a href="/carts"><button>Ir al carrito</button></a>
    {{/if}}
    {{else}}
    <h1>Bienvenido Invitado!</h1>
    <p>Loguéate para poder comprar</p>
    <a href="/login"><button>LogIn</button></a>
    {{/if}}

    {{#if isAdmin}}
    <div>
        <a href="/realtimeproducts"><button>Manager de Productos</button></a>
    </div>
    {{/if}}
</div>

<div class="filter-container">
    <div class="category-filter">
        <label htmlFor="category-select">Categoria:</label>
        <select name="categorias" id="category-select">
            <option value="todos" {{catA}}>--Todos los productos--</option>
            <option value="muebles" {{catB}}>Muebles</option>
            <option value="iluminación" {{catC}}>Iluminación</option>
            <option value="ropa de cama" {{catD}}>Ropa de cama</option>
            <option value="electrodomésticos" {{catE}}>Electrodomésticos</option>
            <option value="cocina" {{catF}}>Cocina</option>
            <option value="tecnología" {{catG}}>Tecnología</option>
            <option value="accesorios" {{catH}}>Accesorios</option>
            <option value="decoración" {{catI}}>Decoración</option>
        </select>
    </div>


    <div class="filter-filter">
        <label htmlFor="filter-select">Precio:</label>
        <select name="filter" id="filter-select">
            <option value="todos" {{priceA}}>--Elige el Filtro/Ninguno--</option>
            <option value="asc" {{priceB}}>Menor Precio</option>
            <option value="desc" {{priceC}}>Mayor precio</option>
        </select>
    </div>

    <div class="limit-product">
        <label htmlFor="limit-select">Productos por página:</label>
        <select name="limit" id="limit-select">
            <option value="2" {{limA}}>2</option>
            <option value="5" {{limB}}>5</option>
            <option value="10" {{limC}}>10</option>
        </select>
    </div>

</div>

<h2>Listado de productos:</h2>
<div class="products-container">
    {{#each docs}}
    <div id="product-card">
        <img src={{this.thumbnails}} alt={{this.title}} />
        <p>Nombre: {{this.title}}</p>
        <p>Precio: {{this.price}}</p>
        <a href="/productdetail/{{this._id}}"><button>Ver detalles</button></a>
    </div>
    {{/each}}
</div>


{{#if showPaginate}}
<div class="pagination">
    <div class="pagination-container">
        {{#if hasPrevPage}}
        <a href="/?lim={{limit}}&pag={{prevPage}}{{sortCategory}}{{sortPrice}}"><button>{{prevPage}} <<< </button></a>
        {{/if}}
        <p class="actual-page">{{page}}</p>
        {{#if hasNextPage}}
        <a href="/?lim={{limit}}&pag={{nextPage}}{{sortCategory}}{{sortPrice}}"><button>>>> {{nextPage}}</button></a>
        {{/if}}
    </div>
</div>

<div class="total-pag">
    <p>Total páginas: {{totalPages}}</p>
</div>

{{/if}}

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="js/filter.js"></script>